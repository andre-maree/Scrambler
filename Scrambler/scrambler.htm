<html>
<body>
    <script language='javascript'>

        var key = "Gl6Nh1O.P2QeR3Safn5o{pi4q'rsyz@AYCDb:cdE0FHtvJw9xIKgk}mLMBTZ8VWj7X";

        var scrambledText = Scramble("scramblertest@gmail.com");
        alert(scrambledText);

        var unscrambledText = UnScramble(scrambledText);
        alert(unscrambledText);

        // Obfuscate the input text with the key
        function Scramble(text) {
            var chars = CreateLookupObject();

            var scrambled = text.split('');

            for (var i = 0; i < scrambled.length; i++) {
                if (key.indexOf(scrambled[i]) > -1) {
                    scrambled[i] = chars[scrambled[i]];
                }
            }

            return scrambled.join('');
        }

        // Reverse the obfuscated text with the key
        function UnScramble(text) {
            var chars = CreateLookupObject();

            var unscrambled = text.split('');

            for (var i = 0; i < unscrambled.length; i++) {
                unscrambled[i] = chars[unscrambled[i]];
            }

            return unscrambled.join('');
        }

        // Helper method to create a lookup dictionary based on the key
        function CreateLookupObject() {
            var chars = {};

            for (var i = 0; i < key.length; i++) {
                chars[key[i].toString()] = key[key.length - 1 - i].toString();
            }

            return chars;
        }

    </script>
</body>
</html>
